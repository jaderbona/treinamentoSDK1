{"changed":true,"filter":false,"title":"index.js","tooltip":"/P3j5slIMb1JFHcmPayrollEnumQuery/index.js","value":"\n/**\n * Nome da primitiva : enumQuery\n * Nome do dominio : hcm\n * Nome do serviço : payroll\n * Nome do tenant : trn06325988\n **/\n\nexports.handler = async (event) => {\n    let body = parseBody(event);\n\n   //Retira valor 999 da lista de categoria eSocial\n   \n   if(body.results) {ld\n      if(body.results[0].enumName === 'ESocialCategory') {\n      \n        body.results[0].items = body.results[0].items.filter(element => {\n           return element.key !== 'Category_999';\n        });\n      }\n   }\n\n  return sendRes(200,body);\n    \n\n};\n\nconst parseBody = (event) => {\n    return typeof event.body === 'string' ?  JSON.parse(event.body) : event.body || {};\n};\n\nconst sendRes = (status, body) => {\n    var response = {\n      statusCode: status,\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: typeof body === 'string' ? body : JSON.stringify(body) \n    };\n    return response;\n};\n  ","undoManager":{"mark":0,"position":1,"stack":[[{"start":{"row":8,"column":0},"end":{"row":27,"column":0},"action":"remove","lines":["exports.handler = async (event) => {","    return sendRes(200, JSON.parse(event.body));","};","","const sendRes = (status, body) => {","  body.helloWorld = \"Olá mundo!\";","","  var response = {","    statusCode: status,","    headers: {","      \"Content-Type\": \"application/json\"","    },","    body: JSON.stringify(body)","  };","","  console.log(body);","","  return response;","};",""],"id":2},{"start":{"row":8,"column":0},"end":{"row":41,"column":2},"action":"insert","lines":["exports.handler = async (event) => {","    let body = parseBody(event);","","   //Retira valor 999 da lista de categoria eSocial","   ","   if(body.results) {","      if(body.results[0].enumName === 'ESocialCategory') {","      ","        body.results[0].items = body.results[0].items.filter(element => {","           return element.key !== 'Category_999';","        });","      }","   }","","  return sendRes(200,body);","    ","","};","","const parseBody = (event) => {","    return typeof event.body === 'string' ?  JSON.parse(event.body) : event.body || {};","};","","const sendRes = (status, body) => {","    var response = {","      statusCode: status,","      headers: {","        \"Content-Type\": \"application/json\"","      },","      body: typeof body === 'string' ? body : JSON.stringify(body) ","    };","    return response;","};","  "]}],[{"start":{"row":13,"column":21},"end":{"row":13,"column":22},"action":"insert","lines":["l"],"id":4},{"start":{"row":13,"column":22},"end":{"row":13,"column":23},"action":"insert","lines":["d"]}]]},"ace":{"folds":[],"scrolltop":0,"scrollleft":0,"selection":{"start":{"row":13,"column":23},"end":{"row":13,"column":23},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1601413767852}